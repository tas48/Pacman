#include <stdio.h>
#include <stdlib.h>
#include <iostream>
#include <allegro5/allegro_image.h>
#include "Map.h"
#include "Brick.h"
#include "Ruby.h"
#include "Score.h"

using namespace std;

int main(){

    //matriz principal
    int matriz[18][21]={{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                        {1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,3,3,3,3,3,1},
                        {1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,3,5,5,5,3,1},
                        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,4,4,4,3,1},
                        {1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,3,3,3,3,3,1},
                        {1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,3,3,3,3,3,1},
                        {1,0,1,1,1,1,0,1,0,1,1,1,1,0,1,3,3,3,3,3,1},
                        {1,0,1,0,0,0,0,1,0,0,0,0,1,0,1,3,3,3,3,3,1},
                        {1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,3,3,3,3,3,1},
                        {1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,3,3,3,3,3,1},
                        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,1},
                        {1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,3,3,3,3,3,1},
                        {1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,3,3,3,3,3,1},
                        {1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,3,3,3,3,3,1},
                        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,1},
                        {1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,3,3,3,3,3,1},
                        {1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,3,3,3,3,3,1},
                        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

    al_init();
    al_init_image_addon();

    Map m;
    Brick b;
    Ruby r;
    Score s;

    //criação
    m.setScreen(840,720);
    b.createBrick(matriz);
    al_flip_display();
    r.createRuby(matriz);
    s.createScore(matriz);

    al_rest(10.0); //duração da tela

    //destruição
    m.destroyScreen();                              
    b.destroyBrick();
    r.destroyRuby();
    s.destroyScore();

    return 0;
}